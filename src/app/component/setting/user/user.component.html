<layout-component>
    <ng-container actionItems>
        <button class="btn btn-sm btn-primary" routerLink="/setting/user/add">
            <i class="icon-plus"></i>
            Add
        </button>
        <button class="btn btn-sm btn-secondary" (click)="showSearchPopupAction()">
            <i class="icon-search"></i> Search
        </button>
    </ng-container>
    <ng-container pageBody>
        <p-table [value]="dataRows" selectionMode="multiple">
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        <div class="form-check form-check-only">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault"></label>
                        </div>
                    </th>
                    <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
                    <th pSortableColumn="updated">Updated <p-sortIcon field="updated"></p-sortIcon></th>
                    <th pSortableColumn="size">Size <p-sortIcon field="size"></p-sortIcon></th>
                    <th></th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-row>
                <tr [pSelectableRow]="row" [ngClass]="row.selected ? 'p-highlight' : ''">
                    <td>
                        <div class="form-check form-check-only">
                            <input class="form-check-input" type="checkbox" [checked]="row.selected" [attr.id]="'checkbox-' + row.id">
                            <label class="form-check-label" [attr.for]="'checkbox-' + row.id"></label>
                        </div>
                    </td>
                    <td>
                        <div class="file-types">
                            <ng-container [ngSwitch]="row.fileType">
                                <ng-container *ngSwitchCase="'directory'">
                                    <img *ngIf="row.shared" src="./assets/images/svg/directory-shared.svg" alt="Shared Directory">
                                    <img *ngIf="!row.shared" src="./assets/images/svg/directory-blue-01.svg" alt="Directory">
                                </ng-container>
                                <img *ngSwitchCase="'pdf'" src="./assets/images/svg/pdf.svg" alt="Directory">
                                <img *ngSwitchCase="'docx'" src="./assets/images/svg/docx.svg" alt="Directory">
                            </ng-container>
                            <span>{{row.name}}</span>
                        </div>
                    </td>
                    <td>
                        <span>{{row.updatedAt}} by </span>
                        <a role="button" class="author">{{row.user.username}}</a>
                    </td>
                    <td>{{row.size}}</td>
                    <td>
                        <div class="form-check form-check-only form-check-star">
                            <input class="form-check-input" type="checkbox" [checked]="row.stared" [attr.id]="'stared-' + row.id">
                            <label class="form-check-label" [attr.for]="'stared-' + row.id"></label>
                        </div>
                    </td>
                    <td>
                        <button class="btn btn-tiered-menu" (click)="menu.toggle($event)">
                            <p-tieredMenu appendTo="body" #menu [model]="actionItems" [popup]="true"></p-tieredMenu>
                            <i class="icon-menu-horizontal"></i>
                        </button>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td [attr.colspan]="5" class="text-center">
                        No records found
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </ng-container>
</layout-component>

<p-dialog [(visible)]="searchPopupToggle" [modal]="true" styleClass="p-dialog-lg">
    <ng-template pTemplate="header">
        <div class="header-title">
            <i class="icon-users"></i>
            <span>Search User</span>
        </div>
    </ng-template>
    <div class="row">
        <div class="col-6">
            <fieldset>
                <header>Fieldset 1</header>
                <div class="row">
                    <div class="col-6 mb-3">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field1" placeholder="Field 1">
                            <label for="field1">Field 1</label>
                        </div>
                    </div>
                    <div class="col-6 mb-3">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field2" placeholder="Field 2">
                            <label for="field2">Field 2</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field3" placeholder="Field 3">
                            <label for="field3">Field 3</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field4" placeholder="Field 4">
                            <label for="field4">Field 4</label>
                        </div>
                    </div>

                </div>
            </fieldset>
        </div>
        <div class="col-6">
            <fieldset>
                <header>Fieldset 2</header>
                <div class="row">
                    <div class="col-6 mb-3">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field5" placeholder="Field 1">
                            <label for="field5">Field 1</label>
                        </div>
                    </div>
                    <div class="col-6 mb-3">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field6" placeholder="Field 2">
                            <label for="field6">Field 2</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field7" placeholder="Field 3">
                            <label for="field7">Field 3</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="field8" placeholder="Field 4">
                            <label for="field8">Field 4</label>
                        </div>
                    </div>

                </div>
            </fieldset>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <button class="btn btn-sm btn-danger me-2" (click)="hideSearchPopupAction()">Close</button>
        <button class="btn btn-sm btn-primary">Search</button>
    </ng-template>
</p-dialog>
